<html lang="ru" xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/fragments/layout :: layout (~{::main}, 'createMunicipalityForecastAdmin', 'Создание прогноза')}">
<main class="container">
    <div th:replace="~{admin/fragments/municipalityHeader :: municipalityHeader(${page}, ${municipalityId})}" />
    
    <div class="container">
    <div class="row">
        <div class="col">
            <h2 class="mt-5">Создание прогноза</h2>

            <form id="example-advanced-form" th:action="@{''}" method="post" th:object="${municipalityForecast}">
                <input type="hidden" th:field="*{id}" />
                <input type="hidden" th:field="*{municipality}" />
                <h3>Шаг 1</h3>
                <fieldset>
                    <legend>Основная информация</legend>

                    <div class="row">
                        <div class="col-5">
                            <div class="form-group">
                                <label for="userName-2">Выберите прогнозируемый год</label>
                                <input type="text" th:field="*{year}" id="datepicker" class="form-control required"/>
                            </div>

                            <div class="form-group">
                                <label for="password-2">Прогнозное значение численности населения</label>
                                <input id="password-2" th:field="*{projectedPopulation}"  type="number"
                                       class="form-control required" autocomplete="off">
                            </div>

                           
                        </div>
                    </div>
                </fieldset>

<!--                <h3>Шаг 2</h3>
                <fieldset>
                    <legend>Количество дополнительных защитных мероприятий</legend>

                    <div class="row">
                        <table class="table table-bordered table-hover table-striped">
                            <thead>
                                <tr>
                                    <th> Название защитного мероприятия </th>
                                    <th> Количество </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:if="*{plannedProtectiveMeasures == null}">
                                    <td colspan="2"> Защитных мероприятий недоступно </td>
                                </tr>
                                
                                <tr th:each="measure, stat  : ${municipalityForecast.plannedProtectiveMeasures}">
                                    <input th:if="${measure.id}" type="hidden"
                                           th:name="|municipalityForecast.plannedProtectiveMeasures[${stat.index}]|"
                                            th:value="${measure.id}"
                                            th:field="*{plannedProtectiveMeasures[__${stat.index}__].id}"
                                           />
                                    <input type="hidden"
                                           th:name="|municipalityForecast.plannedProtectiveMeasures[${stat.index}]|"
                                            th:value="${measure.municipalityForecast}"
                                            th:field="*{plannedProtectiveMeasures[__${stat.index}__].municipalityForecast}"
                                           />
                                    <input type="hidden"
                                           th:name="|municipalityForecast.plannedProtectiveMeasures[${stat.index}]|"
                                            th:value="${measure.protectiveMeasure.id}"
                                            th:field="*{plannedProtectiveMeasures[__${stat.index}__].protectiveMeasure.id}"
                                           />
                                    <td>
                                        <input type="text" readonly="readonly"                                         
                                            th:name="|municipalityForecast.plannedProtectiveMeasures[${stat.index}]|"
                                            th:value="${measure.protectiveMeasure.title}"
                                            th:field="*{plannedProtectiveMeasures[__${stat.index}__].protectiveMeasure.title}"
                                         />
                                    </td>
                                    <td>
                                        <input type="number"                                           
                                            th:name="|municipalityForecast.plannedProtectiveMeasures[${stat.index}]|"
                                            th:value="${measure.amountOfMeasures}"
                                            th:field="*{plannedProtectiveMeasures[__${stat.index}__].amountOfMeasures}"
                                         />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>                   
                </fieldset>-->

            </form>

        </div>
    </div>
</div>
</main>
    
</html>
